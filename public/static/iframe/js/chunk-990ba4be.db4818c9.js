(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-990ba4be"],{"1f45":function(t,e,n){"use strict";var a=n("5f1b"),r=n.n(a);r.a},"5f1b":function(t,e,n){},"6bf9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab"},[n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"待我审批",name:"child1"}}),n("el-tab-pane",{attrs:{label:"我已审批",name:"child2"}}),n("el-tab-pane",{attrs:{label:"我发起的",name:"child3"}}),n("el-tab-pane",{attrs:{label:"抄送我的",name:"child4"}})],1),n(t.currentTabComponent,{tag:"component"})],1)},r=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child1"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.approveContentlist,border:!0,"highlight-current-row":"","max-height":"500","row-style":{height:"20px"},"cell-style":{padding:"0px"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),n("el-table-column",{attrs:{property:"approveNo",label:"审批单号",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"relateNo",label:"待审批单号",align:"center",width:"120"}}),n("el-table-column",{attrs:{property:"approveStyle",label:"标题",align:"center",width:"120"}}),n("el-table-column",{attrs:{property:"applyPerson",label:"申请人",align:"center",width:"120"}}),n("el-table-column",{attrs:{property:"startTime",label:"申请时间",align:"center",width:"160"}}),n("el-table-column",{attrs:{property:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(0==e.row.state?"待审批":""))])]}}])}),n("el-table-column",{attrs:{label:"驳回原因",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[n("el-input",{attrs:{autocomplete:"off",type:"text",min:"0"},model:{value:e.row.reason,callback:function(n){t.$set(e.row,"reason",n)},expression:"scope.row.reason"}})],1)]}}])}),n("el-table-column",{attrs:{property:"address",label:"操作",align:"center",width:"260"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{margin:"2px"},attrs:{type:"warning",size:"mini"},nativeOn:{click:function(n){return t.editorClick(e.row)}}},[t._v("查看详情")]),n("el-button",{attrs:{type:"primary",size:"mini"},nativeOn:{click:function(n){return t.approvalClick(e.row)}}},[t._v("通过")]),n("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(n){return t.rejectClick(e.row)}}},[t._v("驳回")])]}}])})],1)],1)},o=[],i=n("78dc"),c=n("b383"),s=n.n(c),p={name:"child1",data:function(){return{approveContentlist:[]}},methods:{approveContent:function(){var t=this,e=sessionStorage.getItem("id"),n={condition:"where approvePersonId='"+e+"' and state=0 and orderNo!=1 order by startTime desc"};i["b"](s.a.stringify(n)).then((function(e){t.approveContentlist=e.data})).catch((function(t){console.log(t)}))},approvalClick:function(t){var e=this,n={approveNo:t.approveNo,personId:t.approvePersonId,no:t.no};i["c"](s.a.stringify(n)).then((function(t){e.$message({message:t.msg,duration:1500}),e.approveContent()})).catch((function(t){console.log(t)}))},rejectClick:function(t){var e=this;if(""!==t.reason){var n={approveNo:t.approveNo,personId:t.approvePersonId,reason:t.reason,no:t.no};i["d"](s.a.stringify(n)).then((function(t){e.$message({message:t.data,duration:1500}),e.approveContent()})).catch((function(t){console.log(t)}))}else this.$message({message:"请填写驳回原因",duration:1500})}},mounted:function(){this.approveContent()}},u=p,d=n("2877"),b=Object(d["a"])(u,l,o,!1,null,null,null),h=b.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child2"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.approveContentlist,border:!0,"highlight-current-row":"","max-height":"500","row-style":{height:"20px"},"cell-style":{padding:"0px"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),n("el-table-column",{attrs:{property:"approveNo",label:"审批单号",width:"180",align:"center"}}),n("el-table-column",{attrs:{property:"relateNo",label:"待审批单号",width:"180",align:"center"}}),n("el-table-column",{attrs:{property:"approveStyle",label:"标题",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"applyPerson",label:"申请人",align:"center"}}),n("el-table-column",{attrs:{property:"startTime",label:"申请时间",width:"180",align:"center"}}),n("el-table-column",{attrs:{property:"approveTime",label:"审批时间",width:"180",align:"center"}}),n("el-table-column",{attrs:{property:"state",label:"审批状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(1==e.row.state?"已审批":"驳回"))])]}}])}),n("el-table-column",{attrs:{property:"reason",label:"驳回原因",align:"center"}}),n("el-table-column",{attrs:{property:"address",label:"操作",align:"center",fixed:"right",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{margin:"2px"},attrs:{type:"warning",size:"mini"},nativeOn:{click:function(n){return t.editorClick(e.row)}}},[t._v("查看详情")])]}}])})],1)],1)},f=[],g={name:"child2",data:function(){return{approveContentlist:[]}},methods:{approveContent:function(){var t=this,e=sessionStorage.getItem("id"),n={condition:"where approvePersonId='"+e+"' and state between 1 and 2  and orderNo!=1 order by startTime desc"};i["b"](s.a.stringify(n)).then((function(e){t.approveContentlist=e.data})).catch((function(t){console.log(t)}))}},mounted:function(){var t=JSON.parse(sessionStorage.getItem("id"));this.id=t,this.approveContent()}},v=g,y=Object(d["a"])(v,m,f,!1,null,null,null),w=y.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child3"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.approveContentlist,border:!0,"highlight-current-row":"","max-height":"500","row-style":{height:"20px"},"cell-style":{padding:"0px"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),n("el-table-column",{attrs:{property:"approveNo",label:"审批单号",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"relateNo",label:"待审批单号",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"approveStyle",label:"标题",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"startTime",label:"申请时间",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"schedule",label:"审批流程",align:"center",width:"200"}}),n("el-table-column",{attrs:{property:"scheduleState",label:"审批状态",align:"center",width:"200"}}),n("el-table-column",{attrs:{property:"reason",label:"驳回原因",align:"center"}}),n("el-table-column",{attrs:{property:"address",label:"操作",align:"center",width:"180",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{margin:"2px"},attrs:{type:"warning",size:"mini"},nativeOn:{click:function(n){return t.editorClick(e.row)}}},[t._v("查看详情")])]}}])})],1)],1)},S=[],k={name:"child3",data:function(){return{approveContentlist:[]}},methods:{approveContent:function(){var t=this,e=sessionStorage.getItem("id"),n={condition:"where approvePersonId='"+e+"' and state=1 and orderNo=1 order by startTime desc"};i["b"](s.a.stringify(n)).then((function(e){t.approveContentlist=e.data})).catch((function(t){console.log(t)}))}},mounted:function(){var t=JSON.parse(sessionStorage.getItem("id"));this.id=t,this.approveContent()}},x=k,O=Object(d["a"])(x,C,S,!1,null,null,null),_=O.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"child4"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.approveContentlist,border:!0,"highlight-current-row":"","max-height":"500","row-style":{height:"20px"},"cell-style":{padding:"0px"}}},[n("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),n("el-table-column",{attrs:{property:"approveNo",label:"审批单号",align:"center"}}),n("el-table-column",{attrs:{property:"relateNo",label:"审批单号",align:"center"}}),n("el-table-column",{attrs:{property:"approveStyle",label:"标题",align:"center"}}),n("el-table-column",{attrs:{property:"applyPerson",label:"申请人",align:"center"}}),n("el-table-column",{attrs:{property:"startTime",label:"申请时间",align:"center",width:"180"}}),n("el-table-column",{attrs:{property:"state",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(" "+t._s(4==e.row.state?"已抄送":"")+" ")])]}}])}),n("el-table-column",{attrs:{property:"address",label:"操作",align:"center",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{margin:"2px"},attrs:{type:"warning",size:"mini"},nativeOn:{click:function(n){return t.editorClick(e.row)}}},[t._v("查看详情")])]}}])})],1)],1)},P=[],j={name:"child4",data:function(){return{approveContentlist:[]}},methods:{approveContent:function(){var t=this,e=sessionStorage.getItem("id"),n={condition:"where approvePersonId='"+e+"' and state=4 and orderNo!=1 order by startTime desc"};i["b"](s.a.stringify(n)).then((function(e){t.approveContentlist=e.data})).catch((function(t){console.log(t)}))}},mounted:function(){var t=JSON.parse(sessionStorage.getItem("id"));this.id=t,this.approveContent()}},E=j,I=Object(d["a"])(E,N,P,!1,null,null,null),T=I.exports,R={components:{child1:h,child2:w,child3:_,child4:T},name:"sp",data:function(){return{activeName:"child1",currentTabComponent:h}},methods:{handleClick:function(){this.currentTabComponent=this.activeName}}},A=R,$=(n("1f45"),Object(d["a"])(A,a,r,!1,null,"a7b071c0",null));e["default"]=$.exports},"78dc":function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return l})),n.d(e,"f",(function(){return o})),n.d(e,"g",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"j",(function(){return p})),n.d(e,"e",(function(){return u})),n.d(e,"k",(function(){return d})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return h}));var a=n("751a"),r=function(t){return Object(a["a"])({url:"/ERP/searchApproveStyle",method:"get",params:t})},l=function(t){return Object(a["a"])({url:"/ERP/selectApproveOrder",method:"get",params:t})},o=function(t){return Object(a["a"])({url:"/ERP/selectEmplyee",method:"post",data:t})},i=function(t){return Object(a["a"])({url:"/ERP/addApproveOrder",method:"post",data:t})},c=function(t){return Object(a["a"])({url:"/ERP/editCopy",method:"post",data:t})},s=function(t){return Object(a["a"])({url:"/ERP/selApproveTotal",method:"post",data:t})},p=function(t){return Object(a["a"])({url:"/ERP/delApproveOrder",method:"post",data:t})},u=function(t){return Object(a["a"])({url:"/ERP/selectApproveOrder",method:"get",params:t})},d=function(t){return Object(a["a"])({url:"/ERP/editApproveOrder",method:"post",data:t})},b=function(t){return Object(a["a"])({url:"/ERP/agreeApprove",method:"post",data:t})},h=function(t){return Object(a["a"])({url:"/ERP/disagreeApprove",method:"post",data:t})}}}]);